<!DOCTYPE html>
<html lang="en" class=""><head>
<meta charset="UTF-8">
<title>600/1200MSCOUNTER</title>
<style class="INLINE_PEN_STYLESHEET_ID">
    body {
  margin: 10;
  padding: 10;
  background-color: #111;
  text-align:left;
  font-size: 15px;
  color: darkred;
}
  </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.3/p5.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.3/addons/p5.dom.min.js" type="text/javascript"></script>
</head>
<body>
<script type="text/javascript">
let nums = [0x7e, 0x30, 0x6d, 0x79, 0x33, 0x5b, 0x5f, 0x70, 0x7f, 0x7b];
let index4 = 0;
let index3 = 0;
let index2 = 0;
let counter = 0;
let a = "Current Date and Time: \n  ";
let b = "\n                Counter:";

function getColor(val, shift) {
  let r = 255;
  let g = 0;
  let b = 0;
  let a = 40 + 255 * (val >> shift & 1);
  return color(r, g, b, a);
}

function sevenSegment4(val) {
  push();
  noStroke();
  noFill();
  // A
  fill(getColor(val, 6));
  rect(720, 20, 78, 18, 10, 10);
  // B
  fill(getColor(val, 5));
  rect(800, 40, 18, 98, 10, 10);
  // C
  fill(getColor(val, 4));
  rect(800, 160, 18, 98, 10, 10);
  // D
  fill(getColor(val, 3));
  rect(720, 260, 78, 18, 10, 10);
  // E
  fill(getColor(val, 2));
  rect(700, 160, 18, 98, 10, 10);
  // F
  fill(getColor(val, 1));
  rect(700, 40, 18, 98, 10, 10);
  // G
  fill(getColor(val, 0));
  rect(720, 140, 78, 18, 10, 10);
  pop();
}

function sevenSegment3(val) {
  push();
  noStroke();
  noFill();
  // A
  fill(getColor(val, 6));
  rect(520, 20, 78, 18, 10, 10);
  // B
  fill(getColor(val, 5));
  rect(600, 40, 18, 98, 10, 10);
  // C
  fill(getColor(val, 4));
  rect(600, 160, 18, 98, 10, 10);
  // D
  fill(getColor(val, 3));
  rect(520, 260, 78, 18, 10, 10);
  // E
  fill(getColor(val, 2));
  rect(500, 160, 18, 98, 10, 10);
  // F
  fill(getColor(val, 1));
  rect(500, 40, 18, 98, 10, 10);
  // G
  fill(getColor(val, 0));
  rect(520, 140, 78, 18, 10, 10);

  pop();
}

function sevenSegment2(val) {
  push();
  noStroke();
  noFill();
  // A
  fill(getColor(val, 6));
  rect(320, 20, 78, 18, 10, 10);
  // B
  fill(getColor(val, 5));
  rect(400, 40, 18, 98, 10, 10);
  // C
  fill(getColor(val, 4));
  rect(400, 160, 18, 98, 10, 10);
  // D
  fill(getColor(val, 3));
  rect(320, 260, 78, 18, 10, 10);
  // E
  fill(getColor(val, 2));
  rect(300, 160, 18, 98, 10, 10);
  // F
  fill(getColor(val, 1));
  rect(300, 40, 18, 98, 10, 10);
  // G
  fill(getColor(val, 0));
  rect(320, 140, 78, 18, 10, 10);

  pop();
}

/*
  function sevenSegment1(val) {
    push();
    noStroke();
    noFill();
    // A
    fill(getColor(val, 6));
    rect(120, 20, 78, 18, 10, 10);
    // B
    fill(getColor(val, 5));
    rect(200, 40, 18, 98, 10, 10);
    // C
    fill(getColor(val, 4));
    rect(200, 160, 18, 98, 10, 10);
    // D
    fill(getColor(val, 3));
    rect(120, 260, 78, 18, 10, 10);
    // E
    fill(getColor(val, 2));
    rect(100, 160, 18, 98, 10, 10);
    // F
    fill(getColor(val, 1));
    rect(100, 40, 18, 98, 10, 10);
    // G
    fill(getColor(val, 0));
    rect(120, 140, 78, 18, 10, 10);
  
    pop();
  }
  
  function dashSegment(val){
    push();
    noStroke();
    noFill();
    fill(getColor(val, 0));
    rect(10, 140, 38, 18, 10, 10);
    pop();
  
  }
  */

function setup() {
  createCanvas(900, 300);
  timer = createP('');
  setInterval(timeIt, 1200);
}

function timeIt() {
  if (counter < 600) {
    counter++;
    timer.html(counter);
  }
}

function draw() {
  let now = new Date();
  background(17);
  sevenSegment4(nums[index4]);
  sevenSegment3(nums[index3]);
  sevenSegment2(nums[index2]);
  index4 = Math.floor(counter / 1 % 10);
  index3 = Math.floor(counter / 10 % 10);
  index2 = Math.floor(counter / 100 % 10);
  console.log(a + now + b + counter);
}

/*
    function getDigit(number, n) {
      return Math.floor((number / Math.pow(10, n - 1)) % 10);
    }
    */
  </script>
</html>
